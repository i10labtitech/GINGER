# GINGER: Gradual INtegrated GEne Reconstruction

## Requirements ################################################################

* GCC (confirmed with version 10.4.0) 
* G++ (confirmed with version 4.8.5)
* Perl (confirmed with version 5.32.1)
* Python (confirmed with version 3.9.15)
* Nextflow (confirmed with version 21.04.3.5560)
* PASA (confirmed with version 2.5.2)
* TransDecoder (confirmed with version 5.5.0)
* HISAT2 (confirmed with version 2.1.0)
* Samtools (confirmed with version 1.5)
* StringTie (confirmed with version 1.3.4)
* Velvet (confirmed with version 1.2.10)
* Oases (confirmed with version 0.2.09)
* Trinity (confirmed with version 2.8.4)
* GMAP (confirmed with version 2015-09-29)
* CD-HIT (confirmed with version 4.8.1)
* SeqKit (confirmed with version 0.12.0)
* SPALN (confirmed with version 2.3.3f)
* Augustus (confirmed with version 3.3.2)
* SNAP (confirmed with version 2006-07-28)
* Carp (Perl module; confirmed with version 1.38)
* Pathtools (Perl module; confirmed with version 3.75)
* Data::Dumper (Perl module; confirmed with version 2.183)
* DB_File (Perl module; confirmed with version 1.858)
* FindBin (Perl module; confirmed with version 1.51)
* Sortable (Perl module; confirmed with version 3.15)
* URI (Perl module; confirmed with version 1.76)
* Exporter (Perl module; confirmed with version 5.74)
* DBI (Perl module; confirmed with version 1.643)
* Parallel::ForkManager (Perl module; confirmed with version 2.0.2)
* Getopt::Long (Perl module)
* Matplotlib (Python library; confirmed with version 3.6.2)
* Awk (confirmed with version 4.0.2)
* sed (confirmed with version 4.2.2)

## Installation ################################################################

```sh
cd <Root directory of GINGER source tree>
make
cp pipeline/nextflow.config <Your working directory>
```

## Settings ####################################################################

Next, edit nextflow.config referring to the following.
These variables must be set properly.

[Input]
 * INPUT_GENOME           : a full path to a file containing genome sequences
 * INPUT_MASKEDGENOME     : a full path to a file containing masked genome sequences
 * INPUT_REPOUT           : a full path to a file generated by RepeatMasker "***.out"
 * INPUT_RNASEQR1         : a full path to a file containing RNA-Seq reads 1
 * INPUT_RNASEQR2         : a full path to a file containing RNA-Seq reads 2
 * HOMOLOGY_DATA          : a full path and information of closely related species
    - PREFIX              : a prefix of a file name  (any string that can be used as a file name)
    - PROTEIN             : a full path to a file containing a species
    - SPALNDB             : a paramete file name
                             parameter files of Spaln are in Spaln's source tree <Spaln's root/table/*>
                             for example, "NematodC", "InsectDm", "Angiosp", "Fish_mdl", "Tetrapod", etc.

[Weight]
 * MAPPING_WEIGHT         : genome-guided assembly-based method (default: 1.6)
 * DENOVO_WEIGHT          : de novo assembly-based method       (default: 1.4)
 * AUGUSTUS_WEIGHT        : ab initio-based method (Augustus)   (default: 1.8)
 * SNAP_WEIGHT            : ab initio-based method (SNAP)       (default: 1.2)
 * HOMOLOGY_WEIGHT        : homology-based method               (default: 2.0)

[Nextflow behavior]
 * SCRATCH                : a path to scratch directory, like "/scratch"
 * N_THREAD               : Number of CPU (logical number)
 * MAX_MEMORY             : Maximam memory size for your process to use, like "64G"

[Path to tool]
 * PDIR                   : a full path to an output directory by GINGER
 * GINGER                 : a full path to GINGER (the root in GINGER's source tree)
 * HISAT2                 : a full path to HISAT2 command "hisat2"
 * HISAT2BUILD            : a full path to HISAT2 build command "hisat2-build"
 * SAMTOOLS               : a full path to SMAtools command "samtools"
 * STRINGTIE              : a full path to StringTie command "stringtie"
 * SEQKIT                 : a full path to Seqkit command "seqkit" 
 * TD_LONGORFS            : a full path to TransDecoder command "TransDecoder.LongOrfs"
 * TD_PREDICT             : a full path to TransDecoder command "TransDecoder.Predict"
 * GFFREAD                : a full path to GffRead command "gffread"
 * CD_HIT                 : a full path to CD-HIT command "cd-hit"
 * DENOVO_PYTHON          : a full path to Python "python"
 * VELVETH                : a full path to Velvet command "velveth"
 * VELVETG                : a full path to Velvet command "velveth"
 * OASES                  : a full path to Oases command "oases"
 * TRINITY                : a full path to Trinity command "Trinity"
 * GMAP_BUILD             : a full path to GMAP command "gmap_build"
 * GMAP                   : a full path to GMAPL command "gmap"
 * CD_HIT_EST             : a full path to CD-HIT command "cd-hit-est"
 * SPALN                  : a full path to Spaln command "spaln"
 * MAKEIDX                : a full path to Spaln command "makeidx.pl"
 * MAKBLK                 : a full path to Spaln command "makblk.pl"        
 * AUGUSTUS_DIR           : a full path to Augustus (the root in Augutus's source tree)
 * SNAP_DIR               : a full path to SNAP (the root in SNAP's source tree)

[Tool behavior]
 * SRA_FLAG               : 1: if the RNA-Seq data was obtained from SRA, 0: if not
 * MIN0                   : Minimum protein length (AA)
 * MIN1                   : Minimum contig length (bp)
 * AUGUSTUS_SPEC          : a directory name that stores a new trained model
                             the name must be unique within "[Augutus root]/config/species/"
 * AUGUSTUS_TRAINING_SIZE : Number of gene structures for training (default: 1000)
